!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.SimpleSelect=t():e.SimpleSelect=t()}(self,(function(){return(()=>{"use strict";var e={291:(e,t,n)=>{n.r(t),n.d(t,{default:()=>j,init:()=>x});var r=n(379),o=n.n(r),i=n(346);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}o()(i.Z,{insert:"head",singleton:!1}),i.Z.locals;var l=function(e,t){return e.filter((function(e){return e.label.toLowerCase().includes(t.toLowerCase())}))};function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t,n){return t&&g(e.prototype,t),n&&g(e,n),e}var b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=document.createElement(e);return n.className=t,n},w=function(){function e(t,n){m(this,e),this.$el=t,this.store=n,this.update()}return y(e,[{key:"update",value:function(){this.store.value?this.$el.textContent=this.store.itemsMap[this.store.value].label:this.$el.textContent=this.store.config.placeholder}}]),e}(),_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=h(t);if(n){var o=h(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return v(this,e)});function o(e,t){var n;return m(this,o),(n=r.call(this,e,t)).$el.addEventListener("click",(function(e){"remove"===e.target.dataset.action&&(n.remove(e.target.dataset.key),e.stopPropagation())})),n}return y(o,[{key:"makeNode",value:function(e){var t=b("div","smart-select__selected"),n=this.store.itemsMap[e];return t.dataset.action="remove",t.dataset.key=n.value,t.textContent=n.label,t}},{key:"remove",value:function(e){this.store.value=this.store.value.filter((function(t){return t!==e}))}},{key:"update",value:function(){var e=this,t=this.store.value||[];this.$el.innerHTML="",t.map((function(t){return e.makeNode(t)})).forEach((function(t){return e.$el.appendChild(t)})),t.length||(this.$el.textContent=this.store.config.placeholder)}}]),o}(w),k=function(){function e(t,n){var r=this;for(var o in m(this,e),this.store=n,this.$el=t,this.$el.addEventListener("mousedown",(function(e){if(e.target.dataset.option){e.target;var t=e.target.dataset.option;r.store.query="",r.store.opened=!1,Array.isArray(r.store.value)?r.store.value.includes(t)?r.store.value=r.store.value.filter((function(e){return e!==t})):r.store.value=[].concat(d(r.store.value),[t]):r.store.value=t}})),this.$el.addEventListener("mouseover",(function(e){e.target.dataset.option&&r.setPointed(e.target.dataset.option)})),this.$optionsMap={},this.store.itemsMap){var i=b("div","smart-select__option");i.dataset.option=o,i.textContent=this.store.itemsMap[o].label,this.$optionsMap[o]=i}}return y(e,[{key:"update",value:function(){var e=this;this.$el.innerHTML="",this.store.filteredKeys.forEach((function(t,n){0==n&&e.setPointed(t),e.$optionsMap[t].classList.remove("smart-select__option--selected"),e.store.value.includes(t)&&e.$optionsMap[t].classList.add("smart-select__option--selected"),e.$el.appendChild(e.$optionsMap[t])}))}},{key:"setPointed",value:function(e){this.$pointedElement&&this.$pointedElement.classList.remove("smart-select__option--pointed"),this.$pointedElement=this.$optionsMap[e],this.$pointedElement.classList.add("smart-select__option--pointed")}}]),e}(),$=function(){function e(t,n){var r=t.items,o=void 0===r?[]:r,i=t.value,s=void 0===i?"":i,u=t.filter,d=void 0===u?null:u,p=t.multi,f=void 0!==p&&p;m(this,e),this.store=function(e){var t=e.items,n=void 0===t?[]:t,r=e.value,o=e.filterFn,i=void 0===o?l:o,s={_listeners:{},items:n,opened:!1,config:e.config,value:void 0===r?null:r,query:"",itemsMap:n.reduce((function(e,t){return a(a({},e),{},c({},t.value,t))}),{}),get filtered(){return this.query?i(this.items,this.query):this.items},get filteredKeys(){return this.filtered.map((function(e){return e.value}))},registerListener:function(e,t){this._listeners[e]=t},_triggerListener:function(e,t){e in this._listeners&&this._listeners[e](t)}};return new Proxy(s,{get:function(e,t){return e[t]},set:function(e,t,n){return e[t]=n,e._triggerListener(t,n),!0}})}({items:o,value:s,filter:d,multi:f,config:n}),this.multi=f,this.makeNodes(),this.display=f?new _(this.$display,this.store):new w(this.$display,this.store),this.optionList=new k(this.$dropdown,this.store),this.registerStoreListeners()}return y(e,[{key:"makeNodes",value:function(){var e=this;this.$root=b("div","smart-select"),this.multi&&this.$root.classList.add("smart-select--multi"),this.store.config.theme&&this.$root.classList.add(this.store.config.theme),this.$root.innerHTML='\n        <div class="smart-select__display-wrapper arrow-down">  \n            <div class="smart-select__display"></div>\n            <input type="text" class="smart-select__input"/>\n        </div>\n        <div class="smart-select__dropdown"></div>',this.$display=this.$root.querySelector(".smart-select__display"),this.$displayWrapper=this.$root.querySelector(".smart-select__display-wrapper"),this.$input=this.$root.querySelector(".smart-select__input"),this.$dropdown=this.$root.querySelector(".smart-select__dropdown"),this.$displayWrapper.addEventListener("click",(function(){e.store.opened=!0,e.store.query=""})),this.$input.addEventListener("input",(function(t){e.store.query=t.target.value})),this.$input.addEventListener("keydown",(function(t){if(13==t.keyCode&&(t.preventDefault(),e.store.filteredKeys.length)){if(e.multi){var n=e.store.filteredKeys[0];e.store.value.includes(n)?e.store.value=e.store.value.filter((function(e){return e!==n})):e.store.value=[].concat(d(e.store.value),[n])}else e.store.value=e.store.filteredKeys[0];e.store.opened=!1}})),this.$input.addEventListener("blur",(function(t){e.store.opened=!1}))}},{key:"registerStoreListeners",value:function(){var e=this;this.store.registerListener("query",(function(t){e.$input.value=t,e.optionList.update()})),this.store.registerListener("opened",(function(t){t?(e.$root.classList.add("smart-select--opened"),e.$input.focus()):e.$root.classList.remove("smart-select--opened")})),this.store.registerListener("value",(function(t){e.display.update(),e.multi?Array.from(e.$el.options).forEach((function(t){t.selected=e.store.value.includes(t.value)})):e.$el.value=t}))}}]),e}(),x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{placeholder:"Please Select...",theme:""},n="string"==typeof e?document.querySelector(e):e;n.hidden=!0;var r=Array.from(n.options).map((function(e){return{value:e.value,label:e.text}})),o=Array.from(n.options).filter((function(e){return e.selected})).map((function(e){return e.value}));n.multiple||(o=o[0]);var i=new $({items:r,value:o,multi:n.multiple},t);i.$el=n,n.insertAdjacentElement("afterend",i.$root)};const j={init:x}},346:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(645),o=n.n(r)()((function(e){return e[1]}));o.push([e.id,".smart-select {\n  position: relative;\n  line-height: 1.5em;\n  --option-hover-color: #0ea5e9;\n  --option-selected-color: #f5f5f4;\n  --border-color: #d6d3d1;\n  --inner-border-color: #d6d3d1;\n  --outer-border-color: #d6d3d1;\n  --gray: #d6d3d1;\n  --spacing: 0.125rem;\n  --border-radius: 0.25rem;\n  --border-width: 1px;\n  --select-height: calc(var(--border-width) * 2 + var(--spacing) * 6 + 1.5em);\n  --spacing-2: calc(var(--spacing) * 2);\n  --spacing-4: calc(var(--spacing) * 4);\n  --spacing-8: calc(var(--spacing) * 8);\n  --spacing-12: calc(var(--spacing) * 12);\n  --spacing-18: calc(var(--spacing) * 18);\n  --arrow-img: url(\"data:image/svg+xml,%3Csvg%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%20fill%3D'none'%20viewBox%3D'0%200%2020%2020'%3E%3Cpath%20stroke%3D'%23d6d3d1'%20stroke-linecap%3D'round'%20stroke-linejoin%3D'round'%20stroke-width%3D'1.5'%20d%3D'M6%208l4%204%204-4'%2F%3E%3C%2Fsvg%3E\");\n  --close-img: url(\"data:image/svg+xml;charset=UTF-8, %3csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='%23d6d3d1' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' class='feather feather-x'%3e%3cline x1='18' y1='6' x2='6' y2='18'%3e%3c/line%3e%3cline x1='6' y1='6' x2='18' y2='18'%3e%3c/line%3e%3c/svg%3e\");\n}\n\n.smart-select__display-wrapper {\n  background-color: white;\n  color: black;\n  border: var(--border-width) solid var(--gray);\n  border-radius: var(--border-radius);\n  background-image: var(--arrow-img);\n  background-position: calc(100% - var(--spacing)) center;\n  background-repeat: no-repeat;\n  background-size: 1.5em 1.5em;\n  padding-right: var(--spacing-12);\n}\n\n.smart-select__display {\n  padding: var(--spacing);\n  align-items: center;\n  box-sizing: border-box;\n  min-height: var(--select-height);\n  cursor: pointer;\n  display: flex;\n  padding-left: var(--spacing-4);\n  flex-wrap: wrap;\n}\n\n.smart-select__selected {\n  background-image: var(--close-img);\n  background-position: calc(100% - var(--spacing)) center;\n  background-repeat: no-repeat;\n  background-size: 1em 1em;\n  align-self: center;\n  padding: var(--spacing);\n  border: var(--border-width) solid var(--gray);\n  border-radius: var(--border-radius);\n  padding-right: var(--spacing-12);\n  margin: var(--spacing);\n}\n\n.smart-select__input {\n  height: var(--select-height);\n  padding: var(--spacing);\n  border: none;\n  display: none;\n  background: none;\n  width: 100%;\n}\n\n.smart-select__input:focus {\n  outline: none;\n}\n\n.smart-select__dropdown {\n  background-color: white;\n  position: absolute;\n  margin-top: calc(0px - var(--border-width));\n  border: var(--border-width) solid var(--gray);\n  border-top: none;\n  left: 0;\n  right: 0;\n  z-index: 1;\n  max-height: 14rem;\n  overflow-y: scroll;\n  display: none;\n  border-radius: 0 0 var(--border-radius) var(--border-radius);\n}\n\n.smart-select__option {\n  /*line-height: var(--spacing-12);*/\n  padding: var(--spacing-2);\n}\n\n.smart-select__option--selected {\n  background: var(--option-selected-color);\n}\n\n.smart-select__option--pointed {\n  background: var(--option-hover-color);\n  color: white;\n}\n\n.smart-select--opened .smart-select__input {\n  display: block;\n}\n\n.smart-select--opened .smart-select__display {\n  display: none;\n}\n\n.smart-select--opened .smart-select__dropdown {\n  display: block;\n}\n\n.smart-select--opened .smart-select__display-wrapper {\n  border-radius: var(--border-radius) var(--border-radius) 0 0;\n}\n\n.smart-select--multi .smart-select__display-wrapper {\n  padding: 0;\n  padding-right: var(--spacing-12);\n}\n.smart-select--multi .smart-select__display {\n  padding-left: var(--spacing);\n}\n\n.smart-select--multi .smart-select__option--selected {\n  background-position: calc(100% - var(--spacing)) center;\n  background-repeat: no-repeat;\n  background-size: 1em 1em;\n  background-image: var(--close-img);\n}\n",""]);const i=o},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(r)for(var i=0;i<this.length;i++){var s=this[i][0];null!=s&&(o[s]=!0)}for(var a=0;a<e.length;a++){var c=[].concat(e[a]);r&&o[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),t.push(c))}},t}},379:(e,t,n)=>{var r,o=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),i=[];function s(e){for(var t=-1,n=0;n<i.length;n++)if(i[n].identifier===e){t=n;break}return t}function a(e,t){for(var n={},r=[],o=0;o<e.length;o++){var a=e[o],c=t.base?a[0]+t.base:a[0],l=n[c]||0,u="".concat(c," ").concat(l);n[c]=l+1;var d=s(u),p={css:a[1],media:a[2],sourceMap:a[3]};-1!==d?(i[d].references++,i[d].updater(p)):i.push({identifier:u,updater:h(p,t),references:1}),r.push(u)}return r}function c(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var i=n.nc;i&&(r.nonce=i)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var s=o(e.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(t)}return t}var l,u=(l=[],function(e,t){return l[e]=t,l.filter(Boolean).join("\n")});function d(e,t,n,r){var o=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=u(t,o);else{var i=document.createTextNode(o),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(i,s[t]):e.appendChild(i)}}function p(e,t,n){var r=n.css,o=n.media,i=n.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var f=null,v=0;function h(e,t){var n,r,o;if(t.singleton){var i=v++;n=f||(f=c(t)),r=d.bind(null,n,i,!1),o=d.bind(null,n,i,!0)}else n=c(t),r=p.bind(null,n,t),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r));var n=a(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var o=s(n[r]);i[o].references--}for(var c=a(e,t),l=0;l<n.length;l++){var u=s(n[l]);0===i[u].references&&(i[u].updater(),i.splice(u,1))}n=c}}}}},t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={id:r,exports:{}};return e[r](o,o.exports,n),o.exports}return n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(291)})()}));